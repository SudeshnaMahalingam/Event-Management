{% extends 'app_base.html' %}

{% block title %}Allocate Resource - Event Scheduler{% endblock %}
{% block header_title %}Allocate Resource{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-6">
        <!-- Event Summary Card -->
        <div class="card card-gradient-4 mb-4 border-0">
            <div class="card-body p-4 text-white">
                <small class="text-uppercase opacity-75 fw-bold">Target Event</small>
                <h3 class="fw-bold mb-2">{{ event.title }}</h3>
                <div class="d-flex align-items-center opacity-90 mt-3">
                    <i class="far fa-clock me-2"></i>
                    <span>
                        {{ event.start_time.strftime('%b %d, %H:%M') }} - {{ event.end_time.strftime('%H:%M') }}
                    </span>
                </div>
                {% if event.description %}
                <p class="mt-3 mb-0 opacity-75 small border-top border-light pt-3"
                    style="border-top-color: rgba(255,255,255,0.2) !important;">
                    {{ event.description }}
                </p>
                {% endif %}
            </div>
        </div>

        <!-- Allocation Form -->
        <div class="dashboard-card">
            <div class="card-body p-4">
                <form method="POST">
                    {{ form.hidden_tag() }}

                    <div class="mb-4">
                        <label class="form-label">Select Resource</label>
                        <div class="input-group">
                            <span class="input-group-text bg-light border-0"><i class="fas fa-search"></i></span>
                            {{ form.resource_id(class="form-select border-start-0 ps-0") }}
                        </div>
                        <div class="form-text">Choose a room, instructor, or equipment to assign.</div>
                    </div>

                    <div class="d-grid gap-2">
                        {{ form.submit(class="btn btn-success btn-lg") }}
                        <a href="{{ url_for('event_list') }}" class="btn btn-light text-muted">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}